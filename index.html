<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ramallah WebGIS</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<style>
body,html{margin:0;height:100%}
#map{height:100vh}
</style>
</head>

<body>
<div id="map"></div>

<script>
var map=L.map("map").setView([31.903,35.203],11);
L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(map);

var layers={};

/* ðŸ”µ FEATURE 2: LAND USE RECOMMENDATION */
function getLandRecommendation(layerName){
switch(layerName){
case "Agricultural Land":
return "Recommended: Agricultural protection and sustainable farming.";
case "Built-up Areas":
return "Recommended: Infrastructure improvement and urban services.";
case "Master Plans":
return "Recommended: Organized future development.";
case "Closed Areas":
return "Warning: Restricted area â€“ no development allowed.";
case "Temperature Zones":
return "Recommended: Urban cooling and green spaces.";
case "Settlements":
return "Alert: Area under pressure â€“ monitor land risks.";
default:
return "No recommendation available.";
}
}

/* LOAD LAYERS */
function loadLayer(file,name,style){
$.getJSON(file,function(data){
var layer=L.geoJson(data,{
style:style,
onEachFeature:function(feature,l){
let rec=getLandRecommendation(name);
l.bindPopup("<b>"+name+"</b><hr>"+rec);
}
}).addTo(map);
layers[name]=layer;
});
}

/* POLYGONS */
loadLayer("Agricultural_Land.geojson","Agricultural Land",{color:"green",fillOpacity:0.6});
loadLayer("Built_up.geojson","Built-up Areas",{color:"brown",fillOpacity:0.6});
loadLayer("Approved_Urban_Master_Plans_super_simplified.geojson","Master Plans",{color:"purple",fillOpacity:0.6});
loadLayer("Areas_totaly_closed_by_the_wall.geojson","Closed Areas",{color:"orange",fillOpacity:0.6});
loadLayer("Temperature.geojson","Temperature Zones",{color:"blue",fillOpacity:0.6});
loadLayer("Settlements.geojson","Settlements",{color:"red",fillOpacity:0.6});
loadLayer("Ramallah.geojson","Ramallah Boundary",{color:"black",fillOpacity:0});
</script>
</body>
</html>
